---
title: "Data Mining Project (MaBAn 2020)"
subtitle: "Predicting obesity levels according to daily habits"

author: "by : Ángel Tomás-Ripoll & Laurence Tréteault-Falsafi"

output:
  pdf_document:
    toc: true
    
urlcolor: blue
geometry: "left=2.5cm,right=2.5cm,top=2.5cm,bottom=2.5cm"
  
---

# Introduction

##### For this project, our objective is to predict the expected weigth level (in Kg) for a given person depending on certain daily habits (eating and physical activity) and on the person's age and height. 

##### To do this, we found a quite interesting dataset (click here : http://archive.ics.uci.edu/ml/datasets/Estimation+of+obesity+levels+based+on+eating+habits+and+physical+condition+) containing 2111 observations and 17 variables (mainly categorical). 

##### Please, find here a manually created metadata table :

##### {-}

```{r}

# To adjust the page margins when knitting to PDF :

library(knitr)
opts_chunk$set(tidy.opts=list(width.cutoff=45),tidy=TRUE)

```


```{r message=FALSE, warning=FALSE}

# Used packages :
library(pander)
library(dplyr)
library(gt)


# Working Directory :
setwd("~/GitHub/CVTDM_Project_MaBAn_2020")


# Reading the data :
obesity <- read.csv("Obesity.csv", header=T, sep=",")


# Small metadata table :

tibble_table <- 
  tibble(
    Variable = c(colnames(obesity)[1:14], "", colnames(obesity)[15:17]),
    Description = c("Gender", "Age", "Height", "Weight", "Has a family member suffered or suffers from overweight?", "Do you eat high caloric food frequently?", "Do you usually eat vegetables in your meals?", "How many main meals do you have daily?", "Do you eat any food between meals?", "Do you smoke?", "How much water do you drink daily?", "Do you monitor the calories you eat daily?", "How often do you have physical activity?", "How much time do you use technological devices such as", "cell phone videogames, television, computer and others?", "How often do you drink alcohol?", "Which transportation do you usually use?", "Obesity level based on calculation of Mass Body Index")
  )

metadata <- gt(data = tibble_table)

metadata %>%
  tab_header(title = md("**Metadata**"),
             subtitle = "from the dataset we are using") %>%
  
  tab_source_note(source_note = "Based on information in : 
                  
  https://www.sciencedirect.com/science/article/pii/S2352340919306985")
```

##### {-}

##### The variable of interest is the fourth one, the "Weight".

##### We were "lucky" on the fact that this dataset has a quite high level of quality, because it has no missing observations, and our subsequent exploratory analysis will tell us if there are outliers to be handled with.

##### {-}

##### Once we are done with a Data Exploratory Analysis and with a proper Data Pre-Processing, we will develop several models in order to accurately predict the level of weight of each individual.

##### The models will be :

1. Multiple Linear Regression (not ANOVA since "Age" and "Height" are numerical)
2. Classification tree (maybe complemented with a random forest / boosted trees / bagged trees)
3. k-Nearest Neighbors
4. Ensemble Method

##### At the end, we will deploy the best model based on error metrics and prediction performance.

##### {-}

##### At the very end, we will make available a **Shiny App** in which any user can fill-in a questionnaire concerning daily habits, age and height. Then, the App will tell the user what is the expected weight according to those characteristics, and will present the result in two forms :

* The expected weight in Kg.
* The expected obesity level based on the Body Mass Index, following the classification comming from the World Health Organisation.

##### The user will also be able to **select the type of model** that will predict the results. That way, it will be interesting to see with just a few clicks how each model will yield different results.

##### {-}

```{r}



```

##### {-}
